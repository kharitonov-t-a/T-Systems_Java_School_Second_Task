<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>New Products</title>
    <script type="text/javascript" src="resources/js/jquery-3.3.1.min.js"/>
    <script type="text/javascript" src="resources/owl-carousel/owl.carousel.js"/>
    <script type="text/javascript" src="resources/js/main.js"/>

    <link rel="stylesheet" href="resources/owl-carousel/owl.carousel.css" type="text/css"/>
    <link rel="stylesheet" href="resources/css/main.css" type="text/css"/>
    <link rel="stylesheet" href="resources/css/responsive.css" type="text/css"/>
    <link rel="stylesheet" href="resources/css/style.css" type="text/css"/>

</h:head>
<h:body>
    <div id="carousel">
        <ui:repeat value="#{productBean.getProducts()}" var="product">


            <div class="carousel-element">

                <div class="col-md-3 col-sm-4 col-xs-12">
                    <div class="single-product">
                        <div class="product-img">
                            <h:link rel="#">
                                <h:graphicImage value="/resources/images/pc.jpg" alt="Product" class="primary-img"/>
                            </h:link>
                        </div>
                        <div class="product-description">
                            <h5>
                                <h:link value="#{product.name}" rel="detailproduct/#{product.id}"/>
                            </h5>
                            <div class="price-box">
                                <h:panelGroup styleClass="price">$#{product.price}</h:panelGroup>
                            </div>
                        </div>
                    </div>
                </div>


                <!--<f:facet name="header">-->
                <!--<h:outputText value="Name"/>-->
                <!--</f:facet>-->
                <!--<h:outputText value="#{product.name}"/>-->

                <!--<f:facet name="header">-->
                <!--<h:outputText value="Price"/>-->
                <!--</f:facet>-->
                <!--<h:outputText value="#{product.price}"/>-->
            </div>
        </ui:repeat>
    </div>

    <h:form>
        <f:websocket channel="productChanel" onmessage="function(m){console.log(m);}">
            <f:ajax event="updateProducts" render=":carousel"/>
        </f:websocket>
    </h:form>

    <!--<h:form>-->
        <!--<h:commandButton-->
                <!--id="sendMessage"-->
                <!--action="#{userBean.update()}"-->
                <!--value="Send Message from Input Box">-->
            <!--<f:ajax execute="@form" render=":carousel"/>-->
        <!--</h:commandButton>-->
    <!--</h:form>-->

    <p class="center-text">
        <h:link href="#" id="js-prev">Next</h:link>
        <h:link href="#" id="js-next">Prev</h:link>
    </p>
</h:body>
</html>